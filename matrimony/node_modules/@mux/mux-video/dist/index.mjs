var ci=Object.defineProperty;var ui=Object.getPrototypeOf;var hi=Reflect.get;var li=(t,r,e)=>r in t?ci(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var E=(t,r,e)=>(li(t,typeof r!="symbol"?r+"":r,e),e),mt=(t,r,e)=>{if(!r.has(t))throw TypeError("Cannot "+e)};var i=(t,r,e)=>(mt(t,r,"read from private field"),e?e.call(t):r.get(t)),c=(t,r,e)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,e)},h=(t,r,e,n)=>(mt(t,r,"write to private field"),n?n.call(t,e):r.set(t,e),e);var A=(t,r,e)=>(mt(t,r,"access private method"),e),$e=(t,r,e)=>hi(ui(t),e,r);var pe=class{addEventListener(){}removeEventListener(){}dispatchEvent(r){return!0}};if(typeof DocumentFragment=="undefined"){class t extends pe{}globalThis.DocumentFragment=t}var Me=class extends pe{},pt=class extends pe{},fi={get(t){},define(t,r,e){},upgrade(t){},whenDefined(t){return Promise.resolve(Me)}},we,gt=class{constructor(r,e={}){c(this,we,void 0);h(this,we,e==null?void 0:e.detail)}get detail(){return i(this,we)}initCustomEvent(){}};we=new WeakMap;function mi(t,r){return new Me}var Pt={document:{createElement:mi},DocumentFragment,customElements:fi,CustomEvent:gt,EventTarget:pe,HTMLElement:Me,HTMLVideoElement:pt},_t=typeof window=="undefined"||typeof globalThis.customElements=="undefined",ze=_t?Pt:globalThis,Wi=_t?Pt.document:globalThis.document;import{initialize as yi,teardown as Ai,generatePlayerInitTime as ki,PlaybackTypes as ht,toMuxVideoURL as Si,MediaError as gn,getError as Ri,CmcdTypeValues as di,addCuePoints as Ci,getCuePoints as Oi,getActiveCuePoint as Pi,addChapters as _i,getActiveChapter as Ii,getStartDate as Li,getCurrentPdt as Mi,getStreamType as wi,getTargetLiveWindow as xi,getLiveEdgeStart as Ni,getSeekable as Di,getEnded as Vi,getChapters as Gi}from"@mux/playback-core";var pi=()=>{try{return"0.19.0"}catch{}return"UNKNOWN"},gi=pi(),It=()=>gi;var bt=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],Lt,Et=(Lt=globalThis.document)==null?void 0:Lt.createElement("template");Et&&(Et.innerHTML=`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media"></slot>
    <slot></slot>
  `);var Mt,vt=(Mt=globalThis.document)==null?void 0:Mt.createElement("template");vt&&(vt.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media"></slot>
    <slot></slot>
  `);var wt=(t,{tag:r,is:e})=>{var l,d,k,g,xt,_,ie,o,f,ge,M,Nt,y,Dt,C,Vt;let n=(l=globalThis.document)==null?void 0:l.createElement(r,{is:e}),s=n?Ei(n):[];return d=class extends t{constructor(){super();c(this,f);c(this,M);c(this,y);c(this,C);c(this,_,void 0);c(this,ie,void 0);c(this,o,new Map);this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0)))}static get observedAttributes(){var p,T,P;return A(p=d,g,xt).call(p),[...(P=(T=n==null?void 0:n.constructor)==null?void 0:T.observedAttributes)!=null?P:[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}get nativeEl(){var m,p,T;return(T=(p=(m=i(this,ie))!=null?m:this.shadowRoot.querySelector(r))!=null?p:this.querySelector(":scope > [slot=media]"))!=null?T:this.querySelector(r)}set nativeEl(m){h(this,ie,m)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(m){this.toggleAttribute("muted",!!m)}get src(){return this.getAttribute("src")}set src(m){this.setAttribute("src",`${m}`)}get preload(){var m,p;return(p=this.getAttribute("preload"))!=null?p:(m=this.nativeEl)==null?void 0:m.preload}set preload(m){this.setAttribute("preload",`${m}`)}init(){var m,p;if(!this.nativeEl){let T=document.createElement(r,{is:e});T.part=r,this.shadowRoot.querySelector('slot[name="media"]').append(T)}this.nativeEl.muted=this.hasAttribute("muted");for(let T of s)A(this,y,Dt).call(this,T);this.shadowRoot.addEventListener("slotchange",this);for(let T of this.constructor.Events)(p=(m=this.shadowRoot).addEventListener)==null||p.call(m,T,this,!0)}handleEvent(m){if(m.type==="slotchange"){A(this,M,Nt).call(this);return}m.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(m.type,{detail:m.detail}))}attributeChangedCallback(m,p,T){A(this,f,ge).call(this),A(this,C,Vt).call(this,m,p,T)}connectedCallback(){A(this,f,ge).call(this)}},k=new WeakMap,g=new WeakSet,xt=function(){if(i(this,k))return;h(this,k,!0);let m=new Set(this.observedAttributes);m.delete("muted");for(let p of s){if(p in this.prototype)continue;if(typeof n[p]=="function")this.prototype[p]=function(...P){return A(this,f,ge).call(this),this.call?this.call(p,...P):this.nativeEl[p].apply(this.nativeEl,P)};else{let P={get(){var x,Ie,Le;A(this,f,ge).call(this);let O=p.toLowerCase();if(m.has(O)){let me=this.getAttribute(O);return me===null?!1:me===""?!0:me}return(Le=(x=this.get)==null?void 0:x.call(this,p))!=null?Le:(Ie=this.nativeEl)==null?void 0:Ie[p]}};p!==p.toUpperCase()&&(P.set=function(O){A(this,f,ge).call(this);let x=p.toLowerCase();if(m.has(x)){O===!0||O===!1||O==null?this.toggleAttribute(x,!!O):this.setAttribute(x,O);return}if(this.set){this.set(p,O);return}this.nativeEl[p]=O}),Object.defineProperty(this.prototype,p,P)}}},_=new WeakMap,ie=new WeakMap,o=new WeakMap,f=new WeakSet,ge=function(){i(this,_)||(h(this,_,!0),this.init())},M=new WeakSet,Nt=function(){let m=new Map(i(this,o));this.shadowRoot.querySelector("slot:not([name])").assignedElements().filter(p=>["track","source"].includes(p.localName)).forEach(p=>{var P,O;m.delete(p);let T=i(this,o).get(p);T||(T=p.cloneNode(),i(this,o).set(p,T)),(O=(P=this.nativeEl).append)==null||O.call(P,T),T.localName==="track"&&T.default&&(T.kind==="chapters"||T.kind==="metadata")&&T.track.mode==="disabled"&&(T.track.mode="hidden")}),m.forEach(p=>p.remove())},y=new WeakSet,Dt=function(m){if(Object.prototype.hasOwnProperty.call(this,m)){let p=this[m];delete this[m],this[m]=p}},C=new WeakSet,Vt=function(m,p,T){var P,O,x,Ie,Le,me;["id","class"].includes(m)||!d.observedAttributes.includes(m)&&this.constructor.observedAttributes.includes(m)||(T===null?(O=(P=this.nativeEl).removeAttribute)==null||O.call(P,m):((Ie=(x=this.nativeEl).getAttribute)==null?void 0:Ie.call(x,m))!=T&&((me=(Le=this.nativeEl).setAttribute)==null||me.call(Le,m,T)))},c(d,g),E(d,"Events",bt),E(d,"template",r.endsWith("audio")?Et:vt),c(d,k,void 0),d};function Ei(t){let r=[];for(let e=Object.getPrototypeOf(t);e&&e!==HTMLElement.prototype;e=Object.getPrototypeOf(e))r.push(...Object.getOwnPropertyNames(e));return r}var Xe=globalThis.document?wt(HTMLElement,{tag:"video"}):class{},Ki=globalThis.document?wt(HTMLElement,{tag:"audio"}):class{};var N=new WeakMap,Ee=class extends Error{},Je=class extends Error{};var Gt=globalThis.WeakRef?class extends Set{add(t){super.add(new WeakRef(t))}forEach(t){super.forEach(r=>{let e=r.deref();e&&t(e)})}}:Set;function qt(t){Tt()?Ut()?t(chrome.cast.isAvailable):customElements.whenDefined("google-cast-button").then(()=>t(chrome.cast.isAvailable)):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(()=>t(chrome.cast.isAvailable))}}function Ft(){return globalThis.chrome}function Bt(){let t="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if(globalThis.chrome.cast||document.querySelector(`script[src="${t}"]`))return;let r=document.createElement("script");r.src=t,document.head.append(r)}function Tt(){return typeof chrome!="undefined"&&chrome.cast&&chrome.cast.isAvailable}function Ut(){return typeof cast!="undefined"&&cast.framework}function F(){if(Ut())return cast.framework.CastContext.getInstance()}function xe(){var t;return(t=F())==null?void 0:t.getCurrentSession()}function Qe(){var t;return(t=xe())==null?void 0:t.getSessionObj().media[0]}function Wt(t){return new Promise((r,e)=>{Qe().editTracksInfo(t,r,e)})}function jt(t){return new Promise((r,e)=>{Qe().getStatus(t,r,e)})}function yt(t){return F().setOptions({...At(),...t})}function At(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}var Ze=new Gt,B=new WeakSet,R;qt(t=>{t&&!R&&(R=cast.framework,F().addEventListener(R.CastContextEventType.CAST_STATE_CHANGED,r=>{Ze.forEach(e=>{var n,s;return(s=(n=N.get(e)).onCastStateChanged)==null?void 0:s.call(n,r)})}),F().addEventListener(R.CastContextEventType.SESSION_STATE_CHANGED,r=>{Ze.forEach(e=>{var n,s;return(s=(n=N.get(e)).onSessionStateChanged)==null?void 0:s.call(n,r)})}),Ze.forEach(r=>{var e,n;return(n=(e=N.get(r)).init)==null?void 0:n.call(e)}))});var Yt=0,b,Ne,I,D,ae,de,U,tt,V,oe,it,Ht,De,kt,rt,Kt,Ve,St,nt,$t,Ge,Rt,et=class extends EventTarget{constructor(e){super();c(this,V);c(this,it);c(this,De);c(this,rt);c(this,Ve);c(this,nt);c(this,Ge);c(this,b,void 0);c(this,Ne,void 0);c(this,I,void 0);c(this,D,void 0);c(this,ae,"disconnected");c(this,de,!1);c(this,U,new Set);c(this,tt,new WeakMap);h(this,b,e),Ze.add(this),N.set(this,{init:()=>A(this,Ve,St).call(this),onCastStateChanged:()=>A(this,De,kt).call(this),onSessionStateChanged:()=>A(this,rt,Kt).call(this),getCastPlayer:()=>i(this,V,oe)}),A(this,Ve,St).call(this)}get state(){return i(this,ae)}async watchAvailability(e){if(i(this,b).disableRemotePlayback)throw new Ee("disableRemotePlayback attribute is present.");return i(this,tt).set(e,++Yt),i(this,U).add(e),Yt}async cancelWatchAvailability(e){if(i(this,b).disableRemotePlayback)throw new Ee("disableRemotePlayback attribute is present.");e?i(this,U).delete(e):i(this,U).clear()}async prompt(){var n,s;if(i(this,b).disableRemotePlayback)throw new Ee("disableRemotePlayback attribute is present.");if(!Tt())throw new Je("The RemotePlayback API is disabled on this platform.");let e=B.has(i(this,b));B.add(i(this,b)),yt(i(this,b).castOptions),Object.entries(i(this,D)).forEach(([l,d])=>{i(this,I).controller.addEventListener(l,d)});try{await F().requestSession()}catch(l){if(l==="cancel"){e||B.delete(i(this,b));return}throw new Error(l)}(s=(n=N.get(i(this,b)))==null?void 0:n.loadOnPrompt)==null||s.call(n)}};b=new WeakMap,Ne=new WeakMap,I=new WeakMap,D=new WeakMap,ae=new WeakMap,de=new WeakMap,U=new WeakMap,tt=new WeakMap,V=new WeakSet,oe=function(){if(B.has(i(this,b)))return i(this,I)},it=new WeakSet,Ht=function(){B.has(i(this,b))&&(Object.entries(i(this,D)).forEach(([e,n])=>{i(this,I).controller.removeEventListener(e,n)}),B.delete(i(this,b)),i(this,b).muted=i(this,I).isMuted,i(this,b).currentTime=i(this,I).savedPlayerState.currentTime,i(this,I).savedPlayerState.isPaused===!1&&i(this,b).play())},De=new WeakSet,kt=function(){let e=F().getCastState();if(B.has(i(this,b))&&e==="CONNECTING"&&(h(this,ae,"connecting"),this.dispatchEvent(new Event("connecting"))),!i(this,de)&&(e!=null&&e.includes("CONNECT"))){h(this,de,!0);for(let n of i(this,U))n(!0)}else if(i(this,de)&&(!e||e==="NO_DEVICES_AVAILABLE")){h(this,de,!1);for(let n of i(this,U))n(!1)}},rt=new WeakSet,Kt=async function(){var n;let{SESSION_RESUMED:e}=R.SessionState;if(F().getSessionState()===e&&i(this,b).castSrc===((n=Qe())==null?void 0:n.media.contentId)){B.add(i(this,b)),Object.entries(i(this,D)).forEach(([s,l])=>{i(this,I).controller.addEventListener(s,l)});try{await jt(new chrome.cast.media.GetStatusRequest)}catch(s){console.error(s)}i(this,D)[R.RemotePlayerEventType.IS_PAUSED_CHANGED](),i(this,D)[R.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},Ve=new WeakSet,St=function(){!R||i(this,Ne)||(h(this,Ne,!0),yt(i(this,b).castOptions),i(this,b).textTracks.addEventListener("change",()=>A(this,Ge,Rt).call(this)),A(this,De,kt).call(this),h(this,I,new R.RemotePlayer),new R.RemotePlayerController(i(this,I)),h(this,D,{[R.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:e})=>{e===!0?(h(this,ae,"connected"),this.dispatchEvent(new Event("connect"))):(A(this,it,Ht).call(this),h(this,ae,"disconnected"),this.dispatchEvent(new Event("disconnect")))},[R.RemotePlayerEventType.DURATION_CHANGED]:()=>{i(this,b).dispatchEvent(new Event("durationchange"))},[R.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{i(this,b).dispatchEvent(new Event("volumechange"))},[R.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{i(this,b).dispatchEvent(new Event("volumechange"))},[R.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{var e;(e=i(this,V,oe))!=null&&e.isMediaLoaded&&i(this,b).dispatchEvent(new Event("timeupdate"))},[R.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{i(this,b).dispatchEvent(new Event("resize"))},[R.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{i(this,b).dispatchEvent(new Event(this.paused?"pause":"play"))},[R.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var e,n;((e=i(this,V,oe))==null?void 0:e.playerState)!==chrome.cast.media.PlayerState.PAUSED&&i(this,b).dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(n=i(this,V,oe))==null?void 0:n.playerState]))},[R.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{var e;(e=i(this,V,oe))!=null&&e.isMediaLoaded&&(await Promise.resolve(),A(this,nt,$t).call(this))}}))},nt=new WeakSet,$t=function(){A(this,Ge,Rt).call(this)},Ge=new WeakSet,Rt=async function(){var o,f,S,M,re;if(!i(this,V,oe))return;let n=((f=(o=i(this,I).mediaInfo)==null?void 0:o.tracks)!=null?f:[]).filter(({type:y})=>y===chrome.cast.media.TrackType.TEXT),s=[...i(this,b).textTracks].filter(({kind:y})=>y==="subtitles"||y==="captions"),l=n.map(({language:y,name:ne,trackId:C})=>{var w;let{mode:se}=(w=s.find(ft=>ft.language===y&&ft.label===ne))!=null?w:{};return se?{mode:se,trackId:C}:!1}).filter(Boolean),k=l.filter(({mode:y})=>y!=="showing").map(({trackId:y})=>y),g=l.find(({mode:y})=>y==="showing"),te=(re=(M=(S=xe())==null?void 0:S.getSessionObj().media[0])==null?void 0:M.activeTrackIds)!=null?re:[],_=te;if(te.length&&(_=_.filter(y=>!k.includes(y))),g!=null&&g.trackId&&(_=[..._,g.trackId]),_=[...new Set(_)],!((y,ne)=>y.length===ne.length&&y.every(C=>ne.includes(C)))(te,_))try{let y=new chrome.cast.media.EditTracksInfoRequest(_);await Wt(y)}catch(y){console.error(y)}};var zt=t=>{var r,e,n,s,l,d,v,g,Xt;return e=class extends t{constructor(){super(...arguments);c(this,d);c(this,g);c(this,n,{paused:!1});c(this,s,At());c(this,l,void 0)}get remote(){return i(this,l)?i(this,l):Ft()?(Bt(),N.set(this,{loadOnPrompt:()=>A(this,g,Xt).call(this)}),h(this,l,new et(this))):super.remote}attributeChangedCallback(o,f,S){if(super.attributeChangedCallback(o,f,S),o==="cast-receiver"&&S){i(this,s).receiverApplicationId=S;return}if(i(this,d,v))switch(o){case"cast-stream-type":case"cast-src":this.load();break}}async load(){var y,ne;if(!i(this,d,v))return super.load();let o=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType),f=[...this.querySelectorAll("track")].filter(({kind:C,src:se})=>se&&(C==="subtitles"||C==="captions")),S=[],M=0;f.length&&(o.tracks=f.map(C=>{let se=++M;S.length===0&&C.track.mode==="showing"&&S.push(se);let w=new chrome.cast.media.Track(se,chrome.cast.media.TrackType.TEXT);return w.trackContentId=C.src,w.trackContentType="text/vtt",w.subtype=C.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,w.name=C.label,w.language=C.srclang,w})),this.castStreamType==="live"?o.streamType=chrome.cast.media.StreamType.LIVE:o.streamType=chrome.cast.media.StreamType.BUFFERED,o.metadata=new chrome.cast.media.GenericMediaMetadata,o.metadata.title=this.title,o.metadata.images=[{url:this.poster}];let re=new chrome.cast.media.LoadRequest(o);re.currentTime=(y=super.currentTime)!=null?y:0,re.autoplay=!i(this,n).paused,re.activeTrackIds=S,await((ne=xe())==null?void 0:ne.loadMedia(re)),this.dispatchEvent(new Event("volumechange"))}play(){var o;if(i(this,d,v)){i(this,d,v).isPaused&&((o=i(this,d,v).controller)==null||o.playOrPause());return}return super.play()}pause(){var o;if(i(this,d,v)){i(this,d,v).isPaused||(o=i(this,d,v).controller)==null||o.playOrPause();return}super.pause()}get castOptions(){return i(this,s)}get castReceiver(){var o;return(o=this.getAttribute("cast-receiver"))!=null?o:void 0}set castReceiver(o){this.castReceiver!=o&&this.setAttribute("cast-receiver",`${o}`)}get castSrc(){var o,f,S;return(S=(f=this.getAttribute("cast-src"))!=null?f:(o=this.querySelector("source"))==null?void 0:o.src)!=null?S:this.currentSrc}set castSrc(o){this.castSrc!=o&&this.setAttribute("cast-src",`${o}`)}get castContentType(){var o;return(o=this.getAttribute("cast-content-type"))!=null?o:void 0}set castContentType(o){this.setAttribute("cast-content-type",`${o}`)}get castStreamType(){var o,f;return(f=(o=this.getAttribute("cast-stream-type"))!=null?o:this.streamType)!=null?f:void 0}set castStreamType(o){this.setAttribute("cast-stream-type",`${o}`)}get readyState(){if(i(this,d,v))switch(i(this,d,v).playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return i(this,d,v)?i(this,d,v).isPaused:super.paused}get muted(){var o;return i(this,d,v)?(o=i(this,d,v))==null?void 0:o.isMuted:super.muted}set muted(o){var f;if(i(this,d,v)){(o&&!i(this,d,v).isMuted||!o&&i(this,d,v).isMuted)&&((f=i(this,d,v).controller)==null||f.muteOrUnmute());return}super.muted=o}get volume(){var o,f;return i(this,d,v)?(f=(o=i(this,d,v))==null?void 0:o.volumeLevel)!=null?f:1:super.volume}set volume(o){var f;if(i(this,d,v)){i(this,d,v).volumeLevel=+o,(f=i(this,d,v).controller)==null||f.setVolumeLevel();return}super.volume=o}get duration(){var o,f,S;return i(this,d,v)&&((o=i(this,d,v))!=null&&o.isMediaLoaded)?(S=(f=i(this,d,v))==null?void 0:f.duration)!=null?S:NaN:super.duration}get currentTime(){var o,f,S;return i(this,d,v)&&((o=i(this,d,v))!=null&&o.isMediaLoaded)?(S=(f=i(this,d,v))==null?void 0:f.currentTime)!=null?S:0:super.currentTime}set currentTime(o){var f;if(i(this,d,v)){i(this,d,v).currentTime=o,(f=i(this,d,v).controller)==null||f.seek();return}super.currentTime=o}},n=new WeakMap,s=new WeakMap,l=new WeakMap,d=new WeakSet,v=function(){var o,f;return(f=(o=N.get(this.remote))==null?void 0:o.getCastPlayer)==null?void 0:f.call(o)},g=new WeakSet,Xt=async function(){i(this,n).paused=$e(e.prototype,this,"paused"),$e(e.prototype,this,"pause").call(this),this.muted=$e(e.prototype,this,"muted");try{await this.load()}catch(o){console.error(o)}},E(e,"observedAttributes",[...(r=t.observedAttributes)!=null?r:[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"]),e};var G=class extends Event{constructor(e,n){super(e);E(this,"track");this.track=n.track}};var Ct=new WeakMap;function a(t){var r;return(r=Ct.get(t))!=null?r:vi(t,{})}function vi(t,r){let e=Ct.get(t);return e||Ct.set(t,e={}),Object.assign(e,r)}function st(t,r){let e=t.videoTracks;a(r).media=t,a(r).renditionSet||(a(r).renditionSet=new Set);let n=a(e).trackSet;n.add(r);let s=n.size-1;s in ue.prototype||Object.defineProperty(ue.prototype,s,{get(){return[...a(this).trackSet][s]}}),queueMicrotask(()=>{e.dispatchEvent(new G("addtrack",{track:r}))})}function ot(t){var n;let r=(n=a(t).media)==null?void 0:n.videoTracks;if(!r)return;a(r).trackSet.delete(t),queueMicrotask(()=>{r.dispatchEvent(new G("removetrack",{track:t}))})}function Jt(t){var n;let r=(n=a(t).media.videoTracks)!=null?n:[],e=!1;for(let s of r)s!==t&&(s.selected=!1,e=!0);if(e){if(a(r).changeRequested)return;a(r).changeRequested=!0,queueMicrotask(()=>{delete a(r).changeRequested,r.dispatchEvent(new Event("change"))})}}var W,j,Y,ce,qe,ue=class extends EventTarget{constructor(){super();c(this,ce);c(this,W,void 0);c(this,j,void 0);c(this,Y,void 0);a(this).trackSet=new Set}[Symbol.iterator](){return i(this,ce,qe).values()}get length(){return i(this,ce,qe).size}getTrackById(e){var n;return(n=[...i(this,ce,qe)].find(s=>s.id===e))!=null?n:null}get selectedIndex(){return[...i(this,ce,qe)].findIndex(e=>e.selected)}get onaddtrack(){return i(this,W)}set onaddtrack(e){i(this,W)&&(this.removeEventListener("addtrack",i(this,W)),h(this,W,void 0)),typeof e=="function"&&(h(this,W,e),this.addEventListener("addtrack",e))}get onremovetrack(){return i(this,j)}set onremovetrack(e){i(this,j)&&(this.removeEventListener("removetrack",i(this,j)),h(this,j,void 0)),typeof e=="function"&&(h(this,j,e),this.addEventListener("removetrack",e))}get onchange(){return i(this,Y)}set onchange(e){i(this,Y)&&(this.removeEventListener("change",i(this,Y)),h(this,Y,void 0)),typeof e=="function"&&(h(this,Y,e),this.addEventListener("change",e))}};W=new WeakMap,j=new WeakMap,Y=new WeakMap,ce=new WeakSet,qe=function(){return a(this).trackSet};var q=class extends Event{constructor(e,n){super(e);E(this,"rendition");this.rendition=n.rendition}};function Qt(t,r){let e=a(t).media.videoRenditions;a(r).media=a(t).media,a(r).track=t;let n=a(t).renditionSet;n.add(r);let s=n.size-1;s in he.prototype||Object.defineProperty(he.prototype,s,{get(){return ve(this)[s]}}),queueMicrotask(()=>{t.selected&&e.dispatchEvent(new q("addrendition",{rendition:r}))})}function Zt(t){let r=a(t).media.videoRenditions,e=a(t).track;a(e).renditionSet.delete(t),queueMicrotask(()=>{a(t).track.selected&&r.dispatchEvent(new q("removerendition",{rendition:t}))})}function ei(t){let r=a(t).media.videoRenditions;!r||a(r).changeRequested||(a(r).changeRequested=!0,queueMicrotask(()=>{delete a(r).changeRequested,a(t).track.selected&&r.dispatchEvent(new Event("change"))}))}function ve(t){return[...a(t).media.videoTracks].filter(e=>e.selected).flatMap(e=>[...a(e).renditionSet])}var H,K,$,he=class extends EventTarget{constructor(){super(...arguments);c(this,H,void 0);c(this,K,void 0);c(this,$,void 0)}[Symbol.iterator](){return ve(this).values()}get length(){return ve(this).length}getRenditionById(e){var n;return(n=ve(this).find(s=>`${s.id}`==`${e}`))!=null?n:null}get selectedIndex(){return ve(this).findIndex(e=>e.selected)}set selectedIndex(e){for(let[n,s]of ve(this).entries())s.selected=n===e}get onaddrendition(){return i(this,H)}set onaddrendition(e){i(this,H)&&(this.removeEventListener("addrendition",i(this,H)),h(this,H,void 0)),typeof e=="function"&&(h(this,H,e),this.addEventListener("addrendition",e))}get onremoverendition(){return i(this,K)}set onremoverendition(e){i(this,K)&&(this.removeEventListener("removerendition",i(this,K)),h(this,K,void 0)),typeof e=="function"&&(h(this,K,e),this.addEventListener("removerendition",e))}get onchange(){return i(this,$)}set onchange(e){i(this,$)&&(this.removeEventListener("change",i(this,$)),h(this,$,void 0)),typeof e=="function"&&(h(this,$,e),this.addEventListener("change",e))}};H=new WeakMap,K=new WeakMap,$=new WeakMap;var be,Fe=class{constructor(){E(this,"src");E(this,"id");E(this,"width");E(this,"height");E(this,"bitrate");E(this,"frameRate");E(this,"codec");c(this,be,!1)}get selected(){return i(this,be)}set selected(r){i(this,be)!==r&&(h(this,be,r),ei(this))}};be=new WeakMap;var Te,ye=class{constructor(){E(this,"id");E(this,"kind");E(this,"label","");E(this,"language","");E(this,"sourceBuffer");c(this,Te,!1)}addRendition(r,e,n,s,l,d){let k=new Fe;return k.src=r,k.width=e,k.height=n,k.frameRate=d,k.bitrate=l,k.codec=s,Qt(this,k),k}removeRendition(r){Zt(r)}get selected(){return i(this,Te)}set selected(r){i(this,Te)!==r&&(h(this,Te,r),r===!0&&Jt(this))}};Te=new WeakMap;function ti(t,r){let e=a(t).media.audioRenditions;a(r).media=a(t).media,a(r).track=t;let n=a(t).renditionSet;n.add(r);let s=n.size-1;s in le.prototype||Object.defineProperty(le.prototype,s,{get(){return Ae(this)[s]}}),queueMicrotask(()=>{t.enabled&&e.dispatchEvent(new q("addrendition",{rendition:r}))})}function ii(t){let r=a(t).media.audioRenditions,e=a(t).track;a(e).renditionSet.delete(t),queueMicrotask(()=>{a(t).track.enabled&&r.dispatchEvent(new q("removerendition",{rendition:t}))})}function ri(t){let r=a(t).media.audioRenditions;!r||a(r).changeRequested||(a(r).changeRequested=!0,queueMicrotask(()=>{delete a(r).changeRequested,a(t).track.enabled&&r.dispatchEvent(new Event("change"))}))}function Ae(t){return[...a(t).media.audioTracks].filter(e=>e.enabled).flatMap(e=>[...a(e).renditionSet])}var z,X,J,le=class extends EventTarget{constructor(){super(...arguments);c(this,z,void 0);c(this,X,void 0);c(this,J,void 0)}[Symbol.iterator](){return Ae(this).values()}get length(){return Ae(this).length}getRenditionById(e){var n;return(n=Ae(this).find(s=>`${s.id}`==`${e}`))!=null?n:null}get selectedIndex(){return Ae(this).findIndex(e=>e.selected)}set selectedIndex(e){for(let[n,s]of Ae(this).entries())s.selected=n===e}get onaddrendition(){return i(this,z)}set onaddrendition(e){i(this,z)&&(this.removeEventListener("addrendition",i(this,z)),h(this,z,void 0)),typeof e=="function"&&(h(this,z,e),this.addEventListener("addrendition",e))}get onremoverendition(){return i(this,X)}set onremoverendition(e){i(this,X)&&(this.removeEventListener("removerendition",i(this,X)),h(this,X,void 0)),typeof e=="function"&&(h(this,X,e),this.addEventListener("removerendition",e))}get onchange(){return i(this,J)}set onchange(e){i(this,J)&&(this.removeEventListener("change",i(this,J)),h(this,J,void 0)),typeof e=="function"&&(h(this,J,e),this.addEventListener("change",e))}};z=new WeakMap,X=new WeakMap,J=new WeakMap;var ke,Be=class{constructor(){E(this,"src");E(this,"id");E(this,"bitrate");E(this,"codec");c(this,ke,!1)}get selected(){return i(this,ke)}set selected(r){i(this,ke)!==r&&(h(this,ke,r),ri(this))}};ke=new WeakMap;function dt(t,r){let e=t.audioTracks;a(r).media=t,a(r).renditionSet||(a(r).renditionSet=new Set);let n=a(e).trackSet;n.add(r);let s=n.size-1;s in fe.prototype||Object.defineProperty(fe.prototype,s,{get(){return[...a(this).trackSet][s]}}),queueMicrotask(()=>{e.dispatchEvent(new G("addtrack",{track:r}))})}function ct(t){var n;let r=(n=a(t).media)==null?void 0:n.audioTracks;if(!r)return;a(r).trackSet.delete(t),queueMicrotask(()=>{r.dispatchEvent(new G("removetrack",{track:t}))})}function ni(t){let r=a(t).media.audioTracks;!r||a(r).changeRequested||(a(r).changeRequested=!0,queueMicrotask(()=>{delete a(r).changeRequested,r.dispatchEvent(new Event("change"))}))}var Q,Z,ee,Se,at,fe=class extends EventTarget{constructor(){super();c(this,Se);c(this,Q,void 0);c(this,Z,void 0);c(this,ee,void 0);a(this).trackSet=new Set}[Symbol.iterator](){return i(this,Se,at).values()}get length(){return i(this,Se,at).size}getTrackById(e){var n;return(n=[...i(this,Se,at)].find(s=>s.id===e))!=null?n:null}get onaddtrack(){return i(this,Q)}set onaddtrack(e){i(this,Q)&&(this.removeEventListener("addtrack",i(this,Q)),h(this,Q,void 0)),typeof e=="function"&&(h(this,Q,e),this.addEventListener("addtrack",e))}get onremovetrack(){return i(this,Z)}set onremovetrack(e){i(this,Z)&&(this.removeEventListener("removetrack",i(this,Z)),h(this,Z,void 0)),typeof e=="function"&&(h(this,Z,e),this.addEventListener("removetrack",e))}get onchange(){return i(this,ee)}set onchange(e){i(this,ee)&&(this.removeEventListener("change",i(this,ee)),h(this,ee,void 0)),typeof e=="function"&&(h(this,ee,e),this.addEventListener("change",e))}};Q=new WeakMap,Z=new WeakMap,ee=new WeakMap,Se=new WeakSet,at=function(){return a(this).trackSet};var Re,Ce=class{constructor(){E(this,"id");E(this,"kind");E(this,"label","");E(this,"language","");E(this,"sourceBuffer");c(this,Re,!1)}addRendition(r,e,n){let s=new Be;return s.src=r,s.codec=e,s.bitrate=n,ti(this,s),s}removeRendition(r){ii(r)}get enabled(){return i(this,Re)}set enabled(r){i(this,Re)!==r&&(h(this,Re,r),ni(this))}};Re=new WeakMap;var si=ut(globalThis.HTMLMediaElement,"video"),oi=ut(globalThis.HTMLMediaElement,"audio");function ai(t){if(!(t!=null&&t.prototype))return t;let r=ut(t,"video");(!r||`${r}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"videoTracks",{get(){return bi(this)}});let e=ut(t,"audio");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"audioTracks",{get(){return Ti(this)}}),"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(l,d="",k=""){let g=new ye;return g.kind=l,g.label=d,g.language=k,st(this,g),g}),"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=ot),"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(l,d="",k=""){let g=new Ce;return g.kind=l,g.label=d,g.language=k,dt(this,g),g}),"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=ct),"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return n(this)}});let n=l=>{let d=a(l).videoRenditions;return d||(d=new he,a(d).media=l,a(l).videoRenditions=d),d};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return s(this)}});let s=l=>{let d=a(l).audioRenditions;return d||(d=new le,a(d).media=l,a(l).audioRenditions=d),d};return t}function ut(t,r){var e;if(t!=null&&t.prototype)return(e=Object.getOwnPropertyDescriptor(t.prototype,`${r}Tracks`))==null?void 0:e.get}function bi(t){var e;let r=a(t).videoTracks;if(!r&&(r=new ue,a(t).videoTracks=r,si)){let n=si.call((e=t.nativeEl)!=null?e:t);for(let s of n)st(t,s);n.addEventListener("change",()=>{r.dispatchEvent(new Event("change"))}),n.addEventListener("addtrack",s=>{if([...r].some(l=>l instanceof ye)){for(let l of n)ot(l);return}st(t,s.track)}),n.addEventListener("removetrack",s=>{ot(s.track)})}return r}function Ti(t){var e;let r=a(t).audioTracks;if(!r&&(r=new fe,a(t).audioTracks=r,oi)){let n=oi.call((e=t.nativeEl)!=null?e:t);for(let s of n)dt(t,s);n.addEventListener("change",()=>{r.dispatchEvent(new Event("change"))}),n.addEventListener("addtrack",s=>{if([...r].some(l=>l instanceof Ce)){for(let l of n)ct(l);return}dt(t,s.track)}),n.addEventListener("removetrack",s=>{ct(s.track)})}return r}bt.push("castchange","entercast","leavecast");var u={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type"},qi=Object.values(u),Fi=It(),Bi="mux-video",L,Oe,We,Pe,je,Ye,He,Ke,_e,lt,Ot=class extends Xe{constructor(){super();c(this,_e);c(this,L,void 0);c(this,Oe,void 0);c(this,We,void 0);c(this,Pe,{});c(this,je,void 0);c(this,Ye,void 0);c(this,He,void 0);c(this,Ke,void 0);h(this,We,ki())}static get observedAttributes(){var e;return[...qi,...(e=Xe.observedAttributes)!=null?e:[]]}get preferCmcd(){var e;return(e=this.getAttribute(u.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?di.includes(e)?this.setAttribute(u.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${di.join()}`):this.removeAttribute(u.PREFER_CMCD))}get playerInitTime(){return i(this,We)}get playerSoftwareName(){var e;return(e=i(this,He))!=null?e:Bi}set playerSoftwareName(e){h(this,He,e)}get playerSoftwareVersion(){var e;return(e=i(this,Ye))!=null?e:Fi}set playerSoftwareVersion(e){h(this,Ye,e)}get _hls(){var e;return(e=i(this,L))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=Ri(this.nativeEl))!=null?e:null}get errorTranslator(){return i(this,Ke)}set errorTranslator(e){h(this,Ke,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(u.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(u.TYPE,e):this.removeAttribute(u.TYPE))}get autoplay(){let e=this.getAttribute("autoplay");return e===null?!1:e===""?!0:e}set autoplay(e){let n=this.autoplay;e!==n&&(e?this.setAttribute("autoplay",typeof e=="string"?e:""):this.removeAttribute("autoplay"))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(u.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(u.DEBUG,""):this.removeAttribute(u.DEBUG))}get disableTracking(){return this.hasAttribute(u.DISABLE_TRACKING)}set disableTracking(e){e!==this.disableTracking&&this.toggleAttribute(u.DISABLE_TRACKING,!!e)}get disableCookies(){return this.hasAttribute(u.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(u.DISABLE_COOKIES,""):this.removeAttribute(u.DISABLE_COOKIES))}get startTime(){let e=this.getAttribute(u.START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(u.START_TIME):this.setAttribute(u.START_TIME,`${e}`))}get playbackId(){var e;return(e=this.getAttribute(u.PLAYBACK_ID))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(u.PLAYBACK_ID,e):this.removeAttribute(u.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(u.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(u.MAX_RESOLUTION,e):this.removeAttribute(u.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(u.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(u.MIN_RESOLUTION,e):this.removeAttribute(u.MIN_RESOLUTION))}get renditionOrder(){var e;return(e=this.getAttribute(u.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(u.RENDITION_ORDER,e):this.removeAttribute(u.RENDITION_ORDER))}get programStartTime(){let e=this.getAttribute(u.PROGRAM_START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set programStartTime(e){e==null?this.removeAttribute(u.PROGRAM_START_TIME):this.setAttribute(u.PROGRAM_START_TIME,`${e}`)}get programEndTime(){let e=this.getAttribute(u.PROGRAM_END_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set programEndTime(e){e==null?this.removeAttribute(u.PROGRAM_END_TIME):this.setAttribute(u.PROGRAM_END_TIME,`${e}`)}get customDomain(){var e;return(e=this.getAttribute(u.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(u.CUSTOM_DOMAIN,e):this.removeAttribute(u.CUSTOM_DOMAIN))}get ended(){return Vi(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(u.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(u.ENV_KEY,e):this.removeAttribute(u.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(u.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(u.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(u.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(u.STREAM_TYPE))!=null?e:wi(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(u.STREAM_TYPE,e):this.removeAttribute(u.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(u.TARGET_LIVE_WINDOW)?+this.getAttribute(u.TARGET_LIVE_WINDOW):xi(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(u.TARGET_LIVE_WINDOW):this.setAttribute(u.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,n;if(this.hasAttribute(u.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:s}=this,l=(e=this.nativeEl.seekable.end(0))!=null?e:0,d=(n=this.nativeEl.seekable.start(0))!=null?n:0;return Math.max(d,l-s)}return Ni(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(u.LIVE_EDGE_OFFSET))return+this.getAttribute(u.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(u.LIVE_EDGE_OFFSET):this.setAttribute(u.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return Di(this.nativeEl)}async addCuePoints(e){return Ci(this.nativeEl,e)}get activeCuePoint(){return Pi(this.nativeEl)}get cuePoints(){return Oi(this.nativeEl)}async addChapters(e){return _i(this.nativeEl,e)}get activeChapter(){return Ii(this.nativeEl)}get chapters(){return Gi(this.nativeEl)}getStartDate(){return Li(this.nativeEl,this._hls)}get currentPdt(){return Mi(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(u.PREFER_PLAYBACK);if(e===ht.MSE||e===ht.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===ht.MSE||e===ht.NATIVE?this.setAttribute(u.PREFER_PLAYBACK,e):this.removeAttribute(u.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(n=>n.startsWith("metadata-")&&![u.METADATA_URL].includes(n)).reduce((n,s)=>{let l=this.getAttribute(s);return l!=null&&(n[s.replace(/^metadata-/,"").replace(/-/g,"_")]=l),n},{}),...i(this,Pe)}}set metadata(e){h(this,Pe,e!=null?e:{}),this.mux&&this.mux.emit("hb",i(this,Pe))}get _hlsConfig(){return i(this,je)}set _hlsConfig(e){h(this,je,e)}load(){h(this,L,yi(this,this.nativeEl,i(this,L)))}unload(){Ai(this.nativeEl,i(this,L)),h(this,L,void 0)}attributeChangedCallback(e,n,s){var d,k;switch(Xe.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,n,s),e){case u.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=s!=null?s:void 0;break;case u.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=s!=null?s:void 0;break;case"src":{let g=!!n,te=!!s;!g&&te?A(this,_e,lt).call(this):g&&!te?this.unload():g&&te&&(this.unload(),A(this,_e,lt).call(this));break}case"autoplay":if(s===n)break;(d=i(this,L))==null||d.setAutoplay(this.autoplay);break;case"preload":if(s===n)break;(k=i(this,L))==null||k.setPreload(s);break;case u.PLAYBACK_ID:this.src=Si(this);break;case u.DEBUG:{let g=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=g);break}case u.METADATA_URL:s&&fetch(s).then(g=>g.json()).then(g=>this.metadata=g).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${s}!`));break;case u.STREAM_TYPE:(s==null||s!==n)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case u.TARGET_LIVE_WINDOW:(s==null||s!==n)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;default:break}}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!i(this,L)&&A(this,_e,lt).call(this)}disconnectedCallback(){this.unload()}};L=new WeakMap,Oe=new WeakMap,We=new WeakMap,Pe=new WeakMap,je=new WeakMap,Ye=new WeakMap,He=new WeakMap,Ke=new WeakMap,_e=new WeakSet,lt=async function(){i(this,Oe)||(await h(this,Oe,Promise.resolve()),h(this,Oe,null),this.load())};var Ue=class extends zt(ai(Ot)){};ze.customElements.get("mux-video")||(ze.customElements.define("mux-video",Ue),ze.MuxVideoElement=Ue);var An=Ue;export{u as Attributes,gn as MediaError,bt as VideoEvents,An as default};
//# sourceMappingURL=index.mjs.map
